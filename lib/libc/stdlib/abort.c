/*********************************************************************
*
*   MODULE:
*       abort.c
*
*   DESCRIPTION:
*       Abort implementation
*
*********************************************************************/

/*--------------------------------------------------------------------
							   INCLUDES
--------------------------------------------------------------------*/

#include <stdio.h>
#include <stdlib.h>

/*--------------------------------------------------------------------
						  LITERAL CONSTANTS
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
								TYPES
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
						   MEMORY CONSTANTS
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
							  VARIABLES
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
								MACROS
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
							  PROCEDURES
--------------------------------------------------------------------*/

/*********************************************************************
*
*   PROCEDURE NAME:
*       abort
*
*   DESCRIPTION:
*       Abort execution
*
*********************************************************************/
__attribute__( ( __noreturn__ ) )
void abort
	(
	void
	)
	{
#if defined(__is_libk)
	// TODO: Add proper kernel panic.
	printf( "kernel: panic: abort()\n" );
#else
	// TODO: Abnormally terminate the process as if by SIGABRT.
	printf( "abort()\n" );
#endif
	while( 1 )
		{
		}
	__builtin_unreachable();
	} /* abort() */